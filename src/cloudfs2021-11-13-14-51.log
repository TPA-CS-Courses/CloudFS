     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1483:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1483:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1627:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1627:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1724:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1724:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1206:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1354:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
^[[F^[[A^[[A^Cmake: *** [test_2_2] Interrupt

student@ip-172-31-91-144:~/chk2/src$ make test_2_2
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,9c1,9
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
> 1aaca9657186c39b2d929da61d49d895  ./big_test/largefile
FAILED!!!
Please see /tmp/testrun-2021-11-13-132849 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:331:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:338:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:338:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:383:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:398:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:509:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:563:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:666:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:664:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:664:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:664:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:664:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:713:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:369:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
md5sum: ./big_test/largefile: Transport endpoint is not connected
find: `./big_test/b': Transport endpoint is not connected
Checking for file integrity : 1,9c1,7
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-133902 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:331:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:338:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:338:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:384:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:399:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:510:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:564:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:667:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:714:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:370:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
md5sum: ./big_test/largefile: Transport endpoint is not connected
Checking for file integrity : 1,9c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-134056 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2\
> ^C
student@ip-172-31-91-144:~/chk2/src$ make test_2_2\
> ^C
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:704:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:704:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:752:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:761:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:762:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:839:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1006:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1084:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1084:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1123:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1162:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1211:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1211:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1250:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1275:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1407:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1407:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1434:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1434:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1457:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1457:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1483:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1483:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1627:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1627:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1724:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1724:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1206:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1354:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
md5sum: ./big_test/largefile: Transport endpoint is not connected
find: `./big_test/a': Transport endpoint is not connected
Checking for file integrity : 1,9c1,5
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-134226 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:331:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:338:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:338:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:384:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:399:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:510:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:564:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:667:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:665:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:714:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:370:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-134607 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:332:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:339:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:339:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:385:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:400:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:511:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:565:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:668:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:715:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:371:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-135004 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:672:41: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((newoffset + size) > statbuf.st_size){
                                         ^
cloudfs/cloudfs.cc:670:14: warning: variable ‘newsize’ set but not used [-Wunused-but-set-variable]
         long newsize = size;
              ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:708:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:708:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:756:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:765:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:766:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:843:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1010:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1088:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1088:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1127:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1166:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1215:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1215:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1254:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1279:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1411:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1411:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1438:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1438:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1461:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1461:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1487:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1487:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1631:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1631:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1728:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1728:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1210:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1358:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
^Cmake: *** [test_2_2] Interrupt

student@ip-172-31-91-144:~/chk2/src$ make test_2_2
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-135632 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:672:38: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((offset + size) > statbuf.st_size){
                                      ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:711:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:711:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:759:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:768:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:769:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:846:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1013:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1091:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1091:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1130:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1169:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1218:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1218:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1257:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1282:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1441:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1441:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1464:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1464:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1490:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1490:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1634:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1634:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1731:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1731:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1213:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1361:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,9c1,9
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
> 1aaca9657186c39b2d929da61d49d895  ./big_test/largefile
FAILED!!!
Please see /tmp/testrun-2021-11-13-135849 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:676:38: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((offset + size) > statbuf.st_size){
                                      ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:712:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:712:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:760:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:769:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:770:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:847:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1014:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1092:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1092:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1131:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1170:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1219:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1219:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1258:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1283:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1415:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1415:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1442:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1442:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1465:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1465:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1491:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1491:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1635:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1635:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1732:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1732:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1214:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1362:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:332:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:339:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:339:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:385:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:400:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:511:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:565:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:668:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:715:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:371:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,9c1,9
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
< 29e90a6d8d79bde32fa8c5843cbd7709  ./big_test/largefile
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
> 1aaca9657186c39b2d929da61d49d895  ./big_test/largefile
FAILED!!!
Please see /tmp/testrun-2021-11-13-140326 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:680:41: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((newoffset + size) > statbuf.st_size){
                                         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:716:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:716:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:764:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:773:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:774:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:851:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1018:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1096:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1096:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1135:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1174:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1223:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1223:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1262:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1287:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1419:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1419:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1446:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1446:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1469:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1469:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1495:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1495:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1639:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1639:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1736:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1736:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1218:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1366:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:332:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:339:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:339:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:385:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:400:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:511:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:565:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:668:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:715:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:371:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-140729 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:681:41: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((newoffset + size) > statbuf.st_size){
                                         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:718:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:718:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:766:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:775:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:776:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:853:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1020:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1098:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1098:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1137:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1176:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1225:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1225:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1264:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1289:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1421:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1421:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1448:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1448:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1471:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1471:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1497:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1497:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1641:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1641:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1738:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1738:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1220:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1368:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-140832 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:681:41: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((newoffset + size) > statbuf.st_size){
                                         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:719:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:719:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:767:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:776:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:777:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:854:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1021:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1099:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1099:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1138:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1177:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1226:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1226:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1265:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1290:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1422:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1422:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1449:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1449:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1472:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1472:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1498:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1498:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1642:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1642:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1739:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1739:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1221:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1369:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-141001 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_de(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:682:41: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if((newoffset + size) > statbuf.st_size){
                                         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:720:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:720:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:768:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:777:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:778:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:855:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1022:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1100:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1100:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1139:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1178:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1227:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1227:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1266:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1291:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1423:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1423:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1450:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1450:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1473:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1473:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1499:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1499:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1643:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1643:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1740:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1740:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1222:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1370:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:332:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:339:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:339:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:385:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:400:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:511:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:565:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:668:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:666:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:715:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:371:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-144531 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:715:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:715:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:763:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:772:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:773:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:850:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1017:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1095:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1095:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1134:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1173:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1222:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1222:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1261:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1286:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1418:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1418:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1445:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1445:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1468:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1468:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1494:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1494:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1638:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1638:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1735:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1735:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1217:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1365:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:336:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:343:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:343:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:389:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:404:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:515:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:569:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:672:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:719:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:375:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-145113 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:717:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:717:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:765:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:774:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:775:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:852:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1019:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1097:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1097:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1136:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1175:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1224:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1224:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1263:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1288:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1420:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1420:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1447:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1447:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1470:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1470:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1496:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1496:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1640:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1640:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1737:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1737:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1219:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1367:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-145325 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/mydedup.o: Compiling object
cloudfs/mydedup.cc: In function ‘long int mydedup_determine_range(ret_range_p, size_t, off_t, seg_info**, int)’:
cloudfs/mydedup.cc:336:27: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
     if ((size + offset) > total_size) {
                           ^
cloudfs/mydedup.cc:343:36: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                    ^
cloudfs/mydedup.cc:343:69: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if ((size + offset) <= upper_bound && (size + offset) > lower_bound) {
                                                                     ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:389:13: warning: unused variable ‘i’ [-Wunused-variable]
         int i = sscanf(num_line, "%ldn", &segs[num_seg]->seg_size);
             ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile_append(char*, char*, seg_info**, int)’:
cloudfs/mydedup.cc:404:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_uploadfile(char*)’:
cloudfs/mydedup.cc:515:9: warning: variable ‘ret’ set but not used [-Wunused-but-set-variable]
     int ret = 0;
         ^
cloudfs/mydedup.cc: In function ‘int mydedup_download_and_combine(char*, seg_info**, int, int)’:
cloudfs/mydedup.cc:569:10: warning: unused variable ‘offset’ [-Wunused-variable]
     long offset = 0;
          ^
cloudfs/mydedup.cc: In function ‘int seg_upload_one(char*, long int, char*, long int)’:
cloudfs/mydedup.cc:672:1: warning: no return statement in function returning non-void [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: At global scope:
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘pathname’ [-Wunused-parameter]
 int seg_upload_one(char *pathname, long offset, char *key, long len) {
     ^
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘offset’ [-Wunused-parameter]
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘key’ [-Wunused-parameter]
cloudfs/mydedup.cc:670:5: warning: unused parameter ‘len’ [-Wunused-parameter]
cloudfs/mydedup.cc: In function ‘int set_ref(const char*, int)’:
cloudfs/mydedup.cc:719:11: warning: unused variable ‘fp’ [-Wunused-variable]
     FILE *fp;
           ^
cloudfs/mydedup.cc: In function ‘int mydedup_segmentation(char*, int*, seg_info**)’:
cloudfs/mydedup.cc:255:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/mydedup.cc: In function ‘int mydedup_readsegs_from_proxy(char*, seg_info**)’:
cloudfs/mydedup.cc:375:48: warning: ignoring return value of ‘char* fgets(char*, int, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
         fgets(line, MAX_PATH_LEN, fp_fileproxy);
                                                ^
build/bin/cloudfs: Building executable
./tests/checkpoint_2/test_2_2/test_2_2.sh
cloudfs will be passed following options :  --ssd-path /home/student/mnt/ssd/ --fuse-path /home/student/mnt/fuse/ --threshold 16 --avg-seg-size 4

Executing test_2_2

Re-initializing environment...
Unmounting successful!
*** Formatting SSD device  with ext4 ...
***
mke2fs 1.42.9 (4-Feb-2014)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
10240 inodes, 10240 blocks
512 blocks (5.00%) reserved for the super user
First data block=0
Maximum filesystem blocks=12582912
1 block group
32768 blocks per group, 32768 fragments per group
10240 inodes per group

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (1024 blocks): done
Writing superblocks and filesystem accounting information: done

Cleaned up everything to its default state.
Waiting for s3 server to initialize (sleep 5)...
Mounting successful!
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /home/student/mnt/fuse/ ...
Untaring /home/student/chk2/src/tests/checkpoint_2/test_2_2/big_test.tar.gz into /tmp/cloudfstest ...
Checking for file integrity : 1,8c1,8
< d9fe9845367b75f5f625959e43c99ce2  ./big_test/a/big1
< 7361593bf860290881c7f7668b80f0e3  ./big_test/a/big2
< 6999548f9407d4b29c1d156c25e8e685  ./big_test/a/big3
< 51bda3b5a5507153693d44e212c06bc2  ./big_test/b/big4
< 9fb5daa170558e1077be91c871289171  ./big_test/c/big5
< fb88abf3154f7c7ecfa36ee60e2c0fd2  ./big_test/c/big6
< 21886f4bb178386c30f0403764d09e45  ./big_test/c/d/big7
< 8bc56dfea6b770bd42642a69c626e03a  ./big_test/c/d/big8
---
> f7a39f34226062a3f3727eb7f830bbda  ./big_test/a/big1
> bd9119311ffe623be5b83691ed5d8816  ./big_test/a/big2
> 3cbeefa81a127de1b68dd3915495c383  ./big_test/a/big3
> b406140586f395a39dc896806184ec7c  ./big_test/b/big4
> fa9699800f1bad24838ceea79597e66b  ./big_test/c/big5
> bb47e591c54b7fb32f92dc906fab2b39  ./big_test/c/big6
> edb0981edf1327e0aa76c2b0e6d8be9f  ./big_test/c/d/big7
> 4807f0610571bd66eae4de71b1454d5e  ./big_test/c/d/big8
FAILED!!!
Please see /tmp/testrun-2021-11-13-145805 for further details
make: *** [test_2_2] Error 1
student@ip-172-31-91-144:~/chk2/src$ make test_2_2
build/obj/cloudfs.o: Compiling object
cloudfs/cloudfs.cc: In function ‘void* cloudfs_init(fuse_conn_info*)’:
cloudfs/cloudfs.cc:176:10: warning: unused variable ‘temp_dir’ [-Wunused-variable]
     char temp_dir[MAX_PATH_LEN] = TEMPDIR;
          ^
cloudfs/cloudfs.cc: In function ‘void get_path_s(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:216:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘void get_path_t(char*, const char*, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:240:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getattr(const char*, stat*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:291:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_open(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:327:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: too many arguments for format [-Wformat-extra-args]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:338:9: note: in expansion of macro ‘PF’
         PF("[%s]:\t downloading from cloud\n", __func__, pathname);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_opendir(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:379:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mkdir(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:395:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_utimens(const char*, const timespec*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:414:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_getxattr(const char*, const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:536:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_setxattr(const char*, const char*, const char*, size_t, int)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:554:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_mknod(const char*, mode_t, dev_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:599:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read_node(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:617:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 4 has type ‘uint64_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:622:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t pread(fd: %d)\t file is %s\n", __func__, fi->fh, path_s);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_read(const char*, char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 6 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:705:9: note: in expansion of macro ‘PF’
         PF("[OUTPUT] cloudfs_read, %s, buf, %zu, %zu return %d", pathname, size, offset, ret);
         ^
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 6 has type ‘size_t {aka long unsigned int}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:708:9: note: in expansion of macro ‘PF’
         PF("[OUTPUT] cloudfs_read, %s, buf, %zu, %zu return %d", pathname, size, offset, ret);
         ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_node(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:719:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:719:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write_decloudfs_write_de(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:767:14: warning: unused variable ‘write_start’ [-Wunused-variable]
         long write_start = offset;
              ^
cloudfs/cloudfs.cc:776:13: warning: variable ‘start’ set but not used [-Wunused-but-set-variable]
         int start = 0;
             ^
cloudfs/cloudfs.cc:777:13: warning: unused variable ‘end’ [-Wunused-variable]
         int end = 0;
             ^
cloudfs/cloudfs.cc:854:37: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (offset + size > fstate->threshold) {
                                     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_write(const char*, const char*, size_t, off_t, fuse_file_info*)’:
cloudfs/cloudfs.cc:902:63: error: ‘cloudfs_write_de’ was not declared in this scope
         ret = cloudfs_write_de(pathname, buf, size, offset, fi);
                                                               ^
cloudfs/cloudfs.cc: In function ‘void cloud_get(char*, char*)’:
cloudfs/cloudfs.cc:33:44: warning: format ‘%d’ expects argument of type ‘int’, but argument 5 has type ‘FILE* {aka _IO_FILE*}’ [-Wformat=]
 #define PF(...) fprintf(logfile,__VA_ARGS__)
                                            ^
cloudfs/cloudfs.cc:1021:5: note: in expansion of macro ‘PF’
     PF("[%s]:\t get %s(FD:%d) from cloud with key:[%s]\n", __func__, path_s, outfile, path_c);
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1099:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1099:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1138:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1177:35: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f <= fstate->threshold) {//smaller than threshold, need to move back to ssd
                                   ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1226:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1226:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:1265:34: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
             if (size_f > fstate->threshold) {//larger than threshold, need to move to cloud
                                  ^
cloudfs/cloudfs.cc:1290:31: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
         if (size_f <= fstate->threshold) {
                               ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_chmod(const char*, mode_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1422:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1422:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_rmdir(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1449:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1449:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_unlink(const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1472:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1472:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_truncate(const char*, off_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1498:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1498:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_readlink(const char*, char*, size_t)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1642:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1642:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_start(cloudfs_state*, const char*)’:
cloudfs/cloudfs.cc:45:28: warning: invalid application of ‘sizeof’ to a void type [-Wpointer-arith]
 #define INFOF() sizeof(void)
                            ^
cloudfs/cloudfs.cc:1739:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc:45:23: warning: statement has no effect [-Wunused-value]
 #define INFOF() sizeof(void)
                       ^
cloudfs/cloudfs.cc:1739:5: note: in expansion of macro ‘INFOF’
     INFOF();
     ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_node(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1221:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
cloudfs/cloudfs.cc: In function ‘int cloudfs_release_de(const char*, fuse_file_info*)’:
cloudfs/cloudfs.cc:1369:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
make: *** [build/obj/cloudfs.o] Error 1
student@ip-172-31-91-144:~/chk2/src$ 

